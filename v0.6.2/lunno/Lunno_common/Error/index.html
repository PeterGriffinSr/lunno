<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Error (lunno.Lunno_common.Error)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">lunno</a> &#x00BB; <a href="../index.html">Lunno_common</a> &#x00BB; Error</nav><header class="odoc-preamble"><h1>Module <code><span>Lunno_common.Error</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-error_code"><a href="#type-error_code" class="anchor"></a><code><span><span class="keyword">type</span> error_code</span><span> = </span></code><ol><li id="type-error_code.E_Lex_UnexpectedChar" class="def variant constructor anchored"><a href="#type-error_code.E_Lex_UnexpectedChar" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Lex_UnexpectedChar</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Encountered an unexpected character in the input.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Lex_InvalidInt" class="def variant constructor anchored"><a href="#type-error_code.E_Lex_InvalidInt" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Lex_InvalidInt</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Invalid integer literal (e.g., too large or malformed).</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Lex_InvalidFloat" class="def variant constructor anchored"><a href="#type-error_code.E_Lex_InvalidFloat" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Lex_InvalidFloat</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Invalid floating-point literal (e.g., too large or malformed).</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Lex_UnterminatedString" class="def variant constructor anchored"><a href="#type-error_code.E_Lex_UnterminatedString" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Lex_UnterminatedString</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>String literal was not properly closed.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Lex_InvalidEscape" class="def variant constructor anchored"><a href="#type-error_code.E_Lex_InvalidEscape" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Lex_InvalidEscape</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Invalid escape sequence in a string literal.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Lex_NewlineInString" class="def variant constructor anchored"><a href="#type-error_code.E_Lex_NewlineInString" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Lex_NewlineInString</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Newline encountered inside a string literal.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Lex_EmptyString" class="def variant constructor anchored"><a href="#type-error_code.E_Lex_EmptyString" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Lex_EmptyString</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Empty string literals are not allowed.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Parse_UnexpectedToken" class="def variant constructor anchored"><a href="#type-error_code.E_Parse_UnexpectedToken" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Parse_UnexpectedToken</span></span></code></li><li id="type-error_code.E_Type_AlreadyDefined" class="def variant constructor anchored"><a href="#type-error_code.E_Type_AlreadyDefined" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_AlreadyDefined</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A name was defined more than once in the same scope.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_UndefinedVariable" class="def variant constructor anchored"><a href="#type-error_code.E_Type_UndefinedVariable" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_UndefinedVariable</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A variable was referenced before being defined.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_TypeMismatch" class="def variant constructor anchored"><a href="#type-error_code.E_Type_TypeMismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_TypeMismatch</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>An expression has a different type than expected.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_ArityMismatch" class="def variant constructor anchored"><a href="#type-error_code.E_Type_ArityMismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_ArityMismatch</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A function was applied to the wrong number of arguments.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_MissingAnnotation" class="def variant constructor anchored"><a href="#type-error_code.E_Type_MissingAnnotation" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_MissingAnnotation</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A required type annotation is absent.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_IfBranchMismatch" class="def variant constructor anchored"><a href="#type-error_code.E_Type_IfBranchMismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_IfBranchMismatch</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The then and else branches of an if expression have different types.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_MissingElseBranch" class="def variant constructor anchored"><a href="#type-error_code.E_Type_MissingElseBranch" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_MissingElseBranch</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>An if expression is missing an else branch.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_NotAFunction" class="def variant constructor anchored"><a href="#type-error_code.E_Type_NotAFunction" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_NotAFunction</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A non-function type was applied as a function.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_MatchBranchMismatch" class="def variant constructor anchored"><a href="#type-error_code.E_Type_MatchBranchMismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_MatchBranchMismatch</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A match branch has a different type from the first branch.</p><span class="comment-delim">*)</span></div></li><li id="type-error_code.E_Type_PatternTypeMismatch" class="def variant constructor anchored"><a href="#type-error_code.E_Type_PatternTypeMismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">E_Type_PatternTypeMismatch</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A pattern does not match the type of the scrutinee.</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-LexerError"><a href="#exception-LexerError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">LexerError</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Error.code" class="def record field anchored"><a href="#module-Error.code" class="anchor"></a><code><span>code : <a href="#type-error_code">error_code</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The kind of lexical error.</p><span class="comment-delim">*)</span></div></li><li id="module-Error.msg" class="def record field anchored"><a href="#module-Error.msg" class="anchor"></a><code><span>msg : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A human-readable error message.</p><span class="comment-delim">*)</span></div></li><li id="module-Error.span" class="def record field anchored"><a href="#module-Error.span" class="anchor"></a><code><span>span : <a href="../Span/index.html#type-t">Span.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Span in the source where the error occurred.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Exception raised by the lexer on lexical errors.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-ParseError"><a href="#exception-ParseError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">ParseError</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Error.code" class="def record field anchored"><a href="#module-Error.code" class="anchor"></a><code><span>code : <a href="#type-error_code">error_code</a>;</span></code></li><li id="module-Error.msg" class="def record field anchored"><a href="#module-Error.msg" class="anchor"></a><code><span>msg : string;</span></code></li><li id="module-Error.span" class="def record field anchored"><a href="#module-Error.span" class="anchor"></a><code><span>span : <a href="../Span/index.html#type-t">Span.t</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-TypeError"><a href="#exception-TypeError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">TypeError</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-Error.code" class="def record field anchored"><a href="#module-Error.code" class="anchor"></a><code><span>code : <a href="#type-error_code">error_code</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The kind of type error.</p><span class="comment-delim">*)</span></div></li><li id="module-Error.msg" class="def record field anchored"><a href="#module-Error.msg" class="anchor"></a><code><span>msg : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A human-readable error message.</p><span class="comment-delim">*)</span></div></li><li id="module-Error.span" class="def record field anchored"><a href="#module-Error.span" class="anchor"></a><code><span>span : <a href="../Span/index.html#type-t">Span.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Span in the source where the error occurred.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Exception raised by the typechecker on type errors.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_code"><a href="#val-string_of_code" class="anchor"></a><code><span><span class="keyword">val</span> string_of_code : <span><a href="#type-error_code">error_code</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>string_of_code code</code> returns a short human-readable string representing the lexical error code <code>code</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_error"><a href="#val-print_error" class="anchor"></a><code><span><span class="keyword">val</span> print_error : <span><span>string array</span> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>print_error lines exn</code> prints a formatted error message for a lexical error.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">lines</span> <p>An array of source lines corresponding to the input being lexed.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">exn</span> <p>The exception to report (expected to be <code>LexerError</code>).</p></li></ul><p>This function prints the error message along with the line of code and a marker indicating the error position.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-already_defined"><a href="#val-already_defined" class="anchor"></a><code><span><span class="keyword">val</span> already_defined : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>already_defined name span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> for a name that has already been defined in the current scope.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-undefined_variable"><a href="#val-undefined_variable" class="anchor"></a><code><span><span class="keyword">val</span> undefined_variable : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>undefined_variable name span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> for a reference to an unbound variable.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_mismatch"><a href="#val-type_mismatch" class="anchor"></a><code><span><span class="keyword">val</span> type_mismatch : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>type_mismatch expected got span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when an expression has type <code>got</code> but type <code>expected</code> was required.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-arity_mismatch"><a href="#val-arity_mismatch" class="anchor"></a><code><span><span class="keyword">val</span> arity_mismatch : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>arity_mismatch expected got span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when a function is applied to the wrong number of arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-missing_annotation"><a href="#val-missing_annotation" class="anchor"></a><code><span><span class="keyword">val</span> missing_annotation : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>missing_annotation name span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when a required type annotation is absent for <code>name</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-if_branch_mismatch"><a href="#val-if_branch_mismatch" class="anchor"></a><code><span><span class="keyword">val</span> if_branch_mismatch : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>if_branch_mismatch then_ty else_ty span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when the then and else branches of an if expression have different types.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-missing_else_branch"><a href="#val-missing_else_branch" class="anchor"></a><code><span><span class="keyword">val</span> missing_else_branch : <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>missing_else_branch span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when an if expression has no else branch.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-not_a_function"><a href="#val-not_a_function" class="anchor"></a><code><span><span class="keyword">val</span> not_a_function : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>not_a_function ty span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when a non-function type is applied as a function.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-match_branch_mismatch"><a href="#val-match_branch_mismatch" class="anchor"></a><code><span><span class="keyword">val</span> match_branch_mismatch : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>match_branch_mismatch expected got span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when a match branch has a different type from the first branch.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pattern_type_mismatch"><a href="#val-pattern_type_mismatch" class="anchor"></a><code><span><span class="keyword">val</span> pattern_type_mismatch : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Span/index.html#type-t">Span.t</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p><code>pattern_type_mismatch expected got span</code> returns a <a href="#exception-TypeError"><code>TypeError</code></a> when a pattern does not match the type of the scrutinee.</p></div></div></div></body></html>
